<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Premium Glass Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --safe-top: env(safe-area-inset-top);
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
        }
        body {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            height: 100dvh;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
        }
        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        .calc-btn {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            font-weight: 500;
            user-select: none;
            touch-action: manipulation;
        }
        .calc-btn:active {
            transform: scale(0.92);
            background: rgba(255, 255, 255, 0.2);
        }
        .display-area {
            text-shadow: 0 0 20px rgba(255,255,255,0.2);
        }
    </style>
</head>
<body class="flex items-center justify-center p-4">

    <div class="w-full max-w-md h-[100dvh] flex flex-col justify-between pt-[env(safe-area-inset-top)] pb-8">
        <!-- Header -->
        <div class="flex justify-between items-center px-4 mb-4 text-white/50">
            <i class="fa-solid fa-clock-rotate-left cursor-pointer" onclick="window.toggleHistory()"></i>
            <span class="text-sm font-bold tracking-widest">STUDIO CALC</span>
            <i class="fa-solid fa-gear"></i>
        </div>

        <!-- Display Area -->
        <div class="flex-1 flex flex-col justify-end items-end px-6 mb-8">
            <div id="history-display" class="text-white/40 text-lg mb-2 h-8 overflow-hidden"></div>
            <div id="main-display" class="text-white text-6xl font-light display-area break-all">0</div>
        </div>

        <!-- Buttons Grid (Bento Style) -->
        <div class="grid grid-cols-4 gap-3">
            <!-- Row 1 -->
            <div onclick="window.clearDisplay()" class="calc-btn glass-card h-16 rounded-2xl text-orange-400">C</div>
            <div onclick="window.appendOp('/')" class="calc-btn glass-card h-16 rounded-2xl text-cyan-400">&divide;</div>
            <div onclick="window.appendOp('*')" class="calc-btn glass-card h-16 rounded-2xl text-cyan-400">&times;</div>
            <div onclick="window.deleteLast()" class="calc-btn glass-card h-16 rounded-2xl text-red-400"><i class="fa-solid fa-backspace"></i></div>
            
            <!-- Row 2 -->
            <div onclick="window.appendNum('7')" class="calc-btn glass-card h-16 rounded-2xl text-white">7</div>
            <div onclick="window.appendNum('8')" class="calc-btn glass-card h-16 rounded-2xl text-white">8</div>
            <div onclick="window.appendNum('9')" class="calc-btn glass-card h-16 rounded-2xl text-white">9</div>
            <div onclick="window.appendOp('-')" class="calc-btn glass-card h-16 rounded-2xl text-cyan-400">&minus;</div>
            
            <!-- Row 3 -->
            <div onclick="window.appendNum('4')" class="calc-btn glass-card h-16 rounded-2xl text-white">4</div>
            <div onclick="window.appendNum('5')" class="calc-btn glass-card h-16 rounded-2xl text-white">5</div>
            <div onclick="window.appendNum('6')" class="calc-btn glass-card h-16 rounded-2xl text-white">6</div>
            <div onclick="window.appendOp('+')" class="calc-btn glass-card h-16 rounded-2xl text-cyan-400">&plus;</div>
            
            <!-- Row 4 -->
            <div class="col-span-3 grid grid-cols-3 gap-3">
                <div onclick="window.appendNum('1')" class="calc-btn glass-card h-16 rounded-2xl text-white">1</div>
                <div onclick="window.appendNum('2')" class="calc-btn glass-card h-16 rounded-2xl text-white">2</div>
                <div onclick="window.appendNum('3')" class="calc-btn glass-card h-16 rounded-2xl text-white">3</div>
                <div onclick="window.appendNum('0')" class="col-span-2 calc-btn glass-card h-16 rounded-2xl text-white">0</div>
                <div onclick="window.appendNum('.')" class="calc-btn glass-card h-16 rounded-2xl text-white">.</div>
            </div>

            <!-- Equals Button -->
            <div onclick="window.calculate()" class="calc-btn bg-cyan-500 shadow-lg shadow-cyan-500/30 rounded-2xl h-full flex items-center justify-center text-white text-3xl">=</div>
        </div>
    </div>

    <script>
        let currentInput = '0';
        let previousInput = '';
        let operator = null;

        const display = document.getElementById('main-display');
        const historyDisplay = document.getElementById('history-display');

        window.vibrate = () => {
            if (window.navigator && window.navigator.vibrate) {
                window.navigator.vibrate(10);
            }
        };

        window.updateUI = () => {
            display.innerText = currentInput;
            historyDisplay.innerText = previousInput + (operator || '');
        };

        window.appendNum = (num) => {
            window.vibrate();
            if (currentInput === '0') currentInput = num;
            else currentInput += num;
            window.updateUI();
        };

        window.appendOp = (op) => {
            window.vibrate();
            if (operator !== null) window.calculate();
            previousInput = currentInput;
            operator = op;
            currentInput = '0';
            window.updateUI();
        };

        window.clearDisplay = () => {
            window.vibrate();
            currentInput = '0';
            previousInput = '';
            operator = null;
            window.updateUI();
        };

        window.deleteLast = () => {
            window.vibrate();
            currentInput = currentInput.slice(0, -1) || '0';
            window.updateUI();
        };

        window.calculate = () => {
            window.vibrate();
            if (!operator || previousInput === '') return;
            
            const prev = parseFloat(previousInput);
            const current = parseFloat(currentInput);
            let result = 0;

            switch (operator) {
                case '+': result = prev + current; break;
                case '-': result = prev - current; break;
                case '*': result = prev * current; break;
                case '/': result = prev / current; break;
            }

            currentInput = result.toString();
            previousInput = '';
            operator = null;
            window.updateUI();
        };

        window.toggleHistory = () => {
            window.vibrate();
            alert("History Feature Coming Soon! Please answer my questions to finalize it.");
        };
    </script>
</body>
</html>